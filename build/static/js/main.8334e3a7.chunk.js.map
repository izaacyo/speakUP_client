{"version":3,"sources":["pages/blogs/[slug].tsx","pages/category.tsx","pages/forgot_password.tsx","pages/reset_password/[slug].tsx","pages/update_blog/[slug].tsx","components/editor/LiteQuill.tsx","components/comments/Input.tsx","components/comments/AvatarComment.tsx","components/comments/AvatarReply.tsx","redux/actions/commentActions.ts","components/comments/CommentList.tsx","components/comments/Comments.tsx","components/blog/DisplayBlog.tsx","pages/blog/[slug].tsx","components/profile/UserInfo.tsx","components/profile/OtherInfo.tsx","components/profile/UserBlogs.tsx","pages/profile/[slug].tsx","components/auth/LoginPass.tsx","pages/login.tsx","components/auth/RegisterForm.tsx","pages/register.tsx","redux/types/commentType.ts","pages sync /^/.//.*$","redux/actions/blogActions.ts","PageRender.tsx","components/global/Search.tsx","components/global/Menu.tsx","components/global/Header.tsx","components/global/Footer.tsx","SocketClient.tsx","App.tsx","redux/reducers/authReducer.ts","redux/reducers/alertReducer.ts","redux/reducers/categoryReducer.ts","redux/reducers/homeBlogsReducer.ts","redux/reducers/blogsCategoryReducer.ts","redux/reducers/otherInfoReducer.ts","redux/reducers/blogsUserReducer.ts","redux/reducers/commentReducer.ts","redux/reducers/socketReducer.ts","redux/types/socketType.ts","redux/reducers/index.ts","redux/store.js","index.tsx","components/global/Loading.tsx","redux/types/blogType.ts","redux/types/alertType.ts","redux/actions/authActions.ts","redux/types/authType.ts","redux/types/categoryType.ts","utils/ImageUpload.ts","components/global/NotFound.tsx","utils/config.ts","utils/Valid.ts","redux/actions/userActions.ts","components/alert/Loading.tsx","components/alert/Toast.tsx","components/alert/Alert.tsx","components/global/Pagination.tsx","components/cards/CardHoriz.tsx","utils/checkTokenExp.ts","redux/actions/categoryActions.ts","components/cards/CreateForm.tsx","components/editor/ReactQuill.tsx","pages/create_blog.tsx","components/cards/CardVert.tsx","redux/types/profileType.ts","pages/index.tsx","pages/active/[slug].tsx","utils/FetchData.ts"],"names":["BlogsByCategory","_useSelector","useSelector","state","subjects","blogsCategory","dispatch","useDispatch","slug","useParams","_useState","useState","_useState2","_slicedToArray","categoryId","setCategoryId","_useState3","_useState4","blogs","setBlogs","_useState5","_useState6","total","setTotal","history","useHistory","search","location","useEffect","category","find","item","name","_id","every","id","getBlogsByCategoryId","data","push","_jsxs","className","children","_jsx","map","blog","CardVert","Pagination","callback","num","concat","Loading","Category","_auth$user","setName","edit","setEdit","auth","user","role","NotFound","onSubmit","e","preventDefault","access_token","_objectSpread","updateCategory","createCategory","htmlFor","style","cursor","onClick","type","value","onChange","target","subject","window","confirm","deleteCategory","ForgotPassword","account","setAccount","maxWidth","forgotPassword","ResetPassword","token","password","setPassword","cf_password","setCfPassword","typePass","setTypePass","_useState7","_useState8","typeCfPass","setTypeCfPass","resetPassword","UpdateBlog","CreateBlog","container","LiteQuill","_ref","body","setBody","modules","toolbar","ReactQuill","theme","placeholder","Input","divRef","useRef","content","ref","dangerouslySetInnerHTML","__html","display","div","current","innerText","trim","undefined","AvatarComment","src","avatar","alt","Link","to","AvatarReply","reply_user","textDecoration","getComments","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","res","wrap","_context2","prev","next","getAPI","sent","GET_COMMENTS","payload","comments","t0","ALERT","errors","response","msg","stop","_x2","apply","arguments","CommentList","_auth$user2","comment","showReply","setShowReply","onReply","setOnReply","handleDelete","_ref5","_callee5","_context5","comment_root","DELETE_REPLY","DELETE_COMMENT","deleteAPI","_x5","Nav","newComment","_ref4","_callee4","_context4","UPDATE_REPLY","UPDATE_COMMENT","patchAPI","_x4","blog_user_id","Date","createdAt","toLocaleString","blog_id","replyCM","toISOString","_toConsumableArray","_ref3","_callee3","_context3","postAPI","_x3","replyComment","Comments","setNext","opacity","pointerEvents","slice","index","length","color","DisplayBlog","showComments","setShowComments","loading","setLoading","fetchComments","useCallback","_callee","_args","_context","_x","title","createComment","DetailBlog","socket","setBlog","error","setError","then","catch","err","emit","showErrMsg","UserInfo","setUser","handleChangeInput","_e$target","_defineProperty","updateUser","URL","createObjectURL","accept","files","file","defaultValue","disabled","OtherInfo","other","setOther","otherInfo","getOtherInfo","newUser","UserBlogs","blogsUser","user_id","getBlogsByUserId","CardHoriz","Profile","LoginPass","userLogin","setUserLogin","login","Login","url","replace","RegisterForm","userRegister","setUserRegister","register","Register","CREATE_COMMENT","REPLY_COMMENT","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports","createBlog","result","photo","newBlog","checkTokenExp","thumbnail","imageUpload","CREATE_BLOGS_USER_ID","getHomeBlogs","GET_HOME_BLOGS","GET_BLOGS_CATEGORY_ID","GET_BLOGS_USER_ID","updateBlog","putAPI","success","deleteBlog","_ref6","_callee6","_context6","DELETE_BLOGS_USER_ID","_x6","PageRender","_useParams","page","React","createElement","require","default","generatePage","Search","setSearch","pathname","useLocation","delayDebounce","setTimeout","abrupt","console","log","clearTimeout","background","zIndex","maxHeight","overflow","Menu","navLinks","label","path","isActive","pn","link","logout","Header","position","top","left","Footer","href","rel","SocketClient","on","off","App","getCategories","refreshToken","io","API_URL","close","Router","Alert","Switch","Route","exact","component","authReducer","action","AUTH","alertReducer","categoryReducer","types","filter","homeBlogsReducer","blogsCategoryReducer","otherInfoReducer","GET_OTHER_INFO","blogsUserReducer","initialState","commentReducer","_item$replyCM","rp","_item$replyCM2","socketReducer","combineReducers","alert","homeBlogs","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","Provider","document","getElementById","localStorage","setItem","check","validRegister","errLength","errMsg","getItem","removeItem","CREATE_CATEGORY","GET_CATEGORIES","UPDATE_CATEGORY","DELETE_CATEGORY","checkImage","size","includes","formData","FormData","append","fetch","method","json","public_id","secure_url","minHeight","transform","test","String","toLowerCase","checkPassword","validCreateBlog","description","shallowEqual","object1","object2","keys1","keys2","_i","_keys","key","width","height","viewBox","stroke","strokeWidth","fill","points","x","y","Toast","bgColor","right","minWidth","text","showSuccessMsg","setPage","newArr","Array","_","i","handlePagination","Number","_Fragment","objectFit","jwt_decode","exp","now","axios","get","newCategory","categories","CreateForm","bottom","rows","resize","Quill","quillRef","handleChangeImage","input","click","onchange","_quill$getEditor$getS","quill","range","getEditor","getSelection","insertEmbed","getModule","addHandler","initState","setText","oldData","setOldData","initData","handleSubmit","newData","textTransform","Home","homeBlog","count","Active","setErr","setSuccess","active_token","defaults","withCredentials","post","headers","Authorization","patch","_x7","_x8","put","_x9","_x10","_x11","delete","_x12","_x13"],"mappings":"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","file":"static/js/main.8334e3a7.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { getBlogsByCategoryId } from '../../redux/actions/blogActions'\n\nimport { RootStore, IParams, IBlog } from '../../utils/TypeScript'\n\nimport Loading from '../../components/global/Loading'\nimport Pagination from '../../components/global/Pagination'\nimport CardVert from '../../components/cards/CardVert'\n\n\nconst BlogsByCategory = () => {\n  const { subjects, blogsCategory } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n  const { slug } = useParams<IParams>()\n\n  const [categoryId, setCategoryId] = useState('')\n  const [blogs, setBlogs] = useState<IBlog[]>()\n  const [total, setTotal] = useState(0)\n\n  const history = useHistory()\n  const { search } = history.location;\n\n  useEffect(() => {\n    const category = subjects.find(item => item.name === slug)\n    if(category) setCategoryId(category._id)\n  },[slug, subjects])\n\n\n  useEffect(() => {\n    if(!categoryId) return;\n\n    if(blogsCategory.every(item => item.id !== categoryId)){\n      dispatch(getBlogsByCategoryId(categoryId, search))\n    }else{\n      const data = blogsCategory.find(item => item.id === categoryId)\n      if(!data) return;\n      setBlogs(data.blogs)\n      setTotal(data.total)\n\n      if(data.search) history.push(data.search)\n    }\n  },[categoryId, blogsCategory, dispatch, search, history])\n  \n\n  const handlePagination = (num: number) => {\n    const search = `?page=${num}`\n    dispatch(getBlogsByCategoryId(categoryId, search))\n  }\n\n\n  if(!blogs) return <Loading />;\n  return (\n    <div className=\"blogs_category\">\n      <div className=\"show_blogs\">\n        {\n          blogs.map(blog => (\n            <CardVert key={blog._id} blog={blog} />\n          ))\n        }\n      </div>\n      \n      {\n        total > 1 &&\n        <Pagination \n        total={total}\n        callback={handlePagination}\n        />\n      }\n     \n    </div>\n  )\n}\n\nexport default BlogsByCategory","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { FormSubmit, RootStore, ICategory } from '../utils/TypeScript'\n\nimport { createCategory, updateCategory, deleteCategory } from '../redux/actions/categoryActions'\n\nimport NotFound from '../components/global/NotFound'\n\nconst Category = () => {\n  const [name, setName] = useState('')\n  const [edit, setEdit] = useState<ICategory | null>(null)\n\n  const { auth, subjects } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    if(edit) setName(edit.name)\n  },[edit])\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    if(!auth.access_token || !name) return;\n\n    if(edit){\n      if(edit.name === name) return;\n      const data = {...edit, name}\n      dispatch(updateCategory(data, auth.access_token))\n    }else{\n      dispatch(createCategory(name, auth.access_token))\n    }\n    setName('')\n    setEdit(null)\n  }\n\n\n  const handleDelete = (id: string) => {\n    if(!auth.access_token) return;\n    if(window.confirm('Are you sure to delete this category?')){\n      dispatch(deleteCategory(id, auth.access_token))\n    }\n  }\n\n\n  if(auth.user?.role !== 'admin') return <NotFound />\n  return (\n    <div className=\"category\">\n      <form onSubmit={handleSubmit}>\n        <label htmlFor=\"category\">Category</label>\n\n        <div className=\"d-flex align-items-center\">\n          {\n            edit && <i className=\"fas fa-times me-2 text-danger\"\n            style={{cursor: 'pointer'}}\n            onClick={() => setEdit(null)} />\n          }\n          <input type=\"text\" name=\"category\" id=\"category\"\n          value={name} onChange={e => setName(e.target.value)} />\n\n          <button type=\"submit\">\n            { edit ? 'Update' : 'Create' }\n          </button>\n        </div>\n      </form>\n\n      <div>\n        {\n          subjects.map(subject => (\n            <div className=\"category_row\" key={subject._id}>\n              <p className=\"m-0 text-capitalize\">{subject.name}</p>\n\n              <div>\n                <i className=\"fas fa-edit mx-2\"\n                onClick={() => setEdit(subject)} />\n                <i className=\"fas fa-trash-alt\"\n                onClick={() => handleDelete(subject._id)} />\n              </div>\n            </div>\n          ))\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default Category","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { forgotPassword} from '../redux/actions/authActions'\n\nimport { FormSubmit} from '../utils/TypeScript'\n\nconst ForgotPassword = () => {\n  const [account, setAccount] = useState('')\n  const dispatch = useDispatch()\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    dispatch(forgotPassword(account))\n  }\n\n  return (\n    <div className=\"my-4\" style={{maxWidth: '500px'}}>\n      <h2>Forgot Password?</h2>\n\n      <form className=\"form-group\" onSubmit={handleSubmit}>\n        <label htmlFor=\"account\">Email / Phone Number</label>\n\n        <div className=\"d-flex align-items-center\">\n          <input type=\"text\" className=\"form-control\" id=\"account\"\n          name=\"account\" onChange={e => setAccount(e.target.value)}  />\n\n          <button className=\"btn btn-primary mx-2 d-flex align-items-center\"\n          type=\"submit\">\n            <i className=\"fas fa-paper-plane me-2\" /> Send\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default ForgotPassword","import React, { useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\n\nimport { IParams, FormSubmit } from '../../utils/TypeScript'\n\nimport { resetPassword } from '../../redux/actions/userActions'\n\nconst ResetPassword = () => {\n  const token = useParams<IParams>().slug\n  const dispatch = useDispatch()\n\n  const [password, setPassword] = useState('')\n  const [cf_password, setCfPassword] = useState('')\n  const [typePass, setTypePass] = useState(false)\n  const [typeCfPass, setTypeCfPass] = useState(false)\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    dispatch(resetPassword(password, cf_password, token))\n  }\n\n  return (\n    <div className=\"auth_page\">\n      <form className=\"auth_box\" onSubmit={handleSubmit}>\n        <h3 className=\"text-uppercase text-center mb-4\"> \n          Reset Password\n        </h3>\n\n        <div className=\"form-group my-2\">\n          <label htmlFor=\"password\" className=\"form-label\">Password</label>\n          <div className=\"pass\">\n            <input type={typePass ? \"text\" : \"password\"} \n            className=\"form-control\" \n            id=\"password\"\n            name=\"password\" value={password} \n            onChange={e => setPassword(e.target.value)} \n            />\n            <small onClick={() => setTypePass(!typePass)}>\n              {typePass ? 'Hide' : 'Show'}\n            </small>\n          </div>\n        </div>\n\n        <div className=\"form-group my-2\">\n          <label htmlFor=\"password\" className=\"form-label\">Confirm Password</label>\n          <div className=\"pass\">\n            <input type={typeCfPass ? \"text\" : \"password\"} \n            className=\"form-control\" \n            id=\"password\"\n            name=\"password\" value={cf_password} \n            onChange={e => setCfPassword(e.target.value)} \n            />\n            <small onClick={() => setTypeCfPass(!typeCfPass)}>\n              {typeCfPass ? 'Hide' : 'Show'}\n            </small>\n          </div>\n        </div>\n      \n        <button type=\"submit\" className=\"btn btn-dark w-100 mt-2\">\n          Register\n        </button>\n     </form>\n    </div>\n  )\n}\n\nexport default ResetPassword","import React from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport { IParams } from '../../utils/TypeScript'\n\nimport CreateBlog from '../create_blog'\n\nconst UpdateBlog = () => {\n  const { slug } = useParams<IParams>()\n\n  return <CreateBlog id={slug} />\n}\n\nexport default UpdateBlog","import React from 'react'\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\n\n\ninterface IProps {\n  body: string\n  setBody: (value: string) => void\n}\n\nconst LiteQuill: React.FC<IProps> = ({body, setBody}) => {\n\n  const modules = { toolbar: { container }}\n\n\n  return (\n    <div>\n      <ReactQuill theme=\"snow\"\n        modules={modules}\n        placeholder=\"Write somethings...\"\n        onChange={e => setBody(e)}\n        value={body}\n      />\n    </div>\n  )\n}\n\nlet container = [\n  [{ 'font': [] }],\n  ['bold', 'italic', 'underline', 'strike'],        \n  ['blockquote', 'code-block', 'link'],\n  [{ 'color': [] }, { 'background': [] }],          \n  [{ 'script': 'sub'}, { 'script': 'super' }]\n]\n\nexport default LiteQuill","import React, { useState, useRef, useEffect } from 'react'\nimport { IComment } from '../../utils/TypeScript'\nimport LiteQuill from '../editor/LiteQuill'\n\n\ninterface IProps {\n  callback: (body: string) => void\n  edit?: IComment\n  setEdit?:(edit?: IComment) => void\n}\n\nconst Input: React.FC<IProps> = ({ callback, edit, setEdit }) => {\n\n  const [body, setBody] = useState('')\n  const divRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    if(edit) setBody(edit.content)\n  },[edit])\n\n\n  const handleSubmit = () => {\n    const div = divRef.current;\n    const text = (div?.innerText as string)\n    if(!text.trim()) {\n      if(setEdit) return setEdit(undefined);\n      return;\n    };\n\n    callback(body)\n\n    setBody('')\n  }\n  \n  return (\n    <div>\n      <LiteQuill body={body} setBody={setBody} />\n\n      <div ref={divRef} dangerouslySetInnerHTML={{\n        __html: body\n      }} style={{display: 'none'}} />\n\n      <button className=\"btn btn-dark ms-auto d-block px-4 mt-2\"\n      onClick={handleSubmit}>\n        { edit ? 'Update' : 'Send' }\n      </button>\n    </div>\n  )\n}\n\nexport default Input","\n\nimport React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { IUser } from '../../utils/TypeScript'\n\ninterface IProps {\n  user: IUser\n}\n\nconst AvatarComment: React.FC<IProps> = ({ user }) => {\n  return (\n    <div className=\"avatar_comment\">\n      <img src={user.avatar} alt=\"avatar\" />\n\n      <small className=\"d-block text-break\">\n        <Link to={`/profile/${user._id}`}>\n          {user.name}\n        </Link>\n      </small>\n    </div>\n  )\n}\n\nexport default AvatarComment","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { IUser } from '../../utils/TypeScript'\n\ninterface IProps {\n  user: IUser\n  reply_user?: IUser\n}\nconst AvatarReply: React.FC<IProps> = ({ user, reply_user }) => {\n  return (\n    <div className=\"avatar_reply\">\n      <img src={user.avatar} alt=\"avatar\" />\n\n      <div className=\"ms-1\">\n        <small>\n          <Link to={`/profile/${user._id}`}\n          style={{ textDecoration: 'none' }}>\n            { user.name }\n          </Link>\n        </small>\n\n        <small className=\"reply-text\">\n          Reply to <Link to={`/profile/${reply_user?._id}`}>\n            { reply_user?.name }\n          </Link>\n        </small>\n      </div>\n    </div>\n  )\n}\n\nexport default AvatarReply","import { Dispatch } from 'redux'\n\nimport { ALERT, IAlertType } from '../types/alertType'\nimport { \n  ICreateCommentType,\n  GET_COMMENTS,\n  IGetCommentsType,\n  IReplyCommentType,\n  UPDATE_COMMENT,\n  UPDATE_REPLY,\n  IUpdateType,\n  DELETE_COMMENT,\n  DELETE_REPLY,\n  IDeleteType\n} from '../types/commentType'\n\nimport { IComment } from '../../utils/TypeScript'\nimport { postAPI, getAPI, patchAPI, deleteAPI } from '../../utils/FetchData'\n\n\nexport const createComment = (\n  data: IComment, token: string\n) => async(dispatch: Dispatch<IAlertType | ICreateCommentType>) => {\n  try {\n    await postAPI('comment', data, token)\n\n    // dispatch({\n    //   type: CREATE_COMMENT,\n    //   payload: { ...res.data, user: data.user }\n    // })\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const getComments = (\n  id: string, num: number\n) => async(dispatch: Dispatch<IAlertType | IGetCommentsType>) => {\n  try {\n    let limit = 4;\n\n    const res = await getAPI(`comments/blog/${id}?page=${num}&limit=${limit}`)\n\n    dispatch({\n      type: GET_COMMENTS,\n      payload: {\n        data: res.data.comments,\n        total: res.data.total\n      }\n    })\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const replyComment = (\n  data: IComment, token: string\n) => async(dispatch: Dispatch<IAlertType | IReplyCommentType>) => {\n  try {\n    await postAPI('reply_comment', data, token)\n\n    // dispatch({\n    //   type: REPLY_COMMENT,\n    //   payload: { \n    //     ...res.data, \n    //     user: data.user,\n    //     reply_user: data.reply_user\n    //   }\n    // })\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const updateComment = (\n  data: IComment, token: string\n) => async(dispatch: Dispatch<IAlertType | IUpdateType>) => {\n  try {\n    dispatch({ \n      type: data.comment_root ? UPDATE_REPLY : UPDATE_COMMENT, \n      payload: data \n    })\n\n    await patchAPI(`comment/${data._id}`, { data }, token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const deleteComment = (\n  data: IComment, token: string\n) => async(dispatch: Dispatch<IAlertType | IDeleteType>) => {\n  try {\n    dispatch({ \n      type: data.comment_root ? DELETE_REPLY : DELETE_COMMENT, \n      payload: data \n    })\n    \n    await deleteAPI(`comment/${data._id}`, token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}","import React, { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { IComment, RootStore } from '../../utils/TypeScript'\n\nimport { \n  replyComment, \n  updateComment,\n  deleteComment\n} from '../../redux/actions/commentActions'\n\nimport Input from './Input'\n\ninterface IProps {\n  comment: IComment\n  showReply: IComment[]\n  setShowReply: (showReply: IComment[]) => void\n  children?: React.ReactNode;\n\n}\n\nconst CommentList: React.FC<IProps> = ({ \n  children, comment, showReply, setShowReply\n}) => {\n  const [onReply, setOnReply] = useState(false)\n  const { auth } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const [edit, setEdit] = useState<IComment>()\n\n  const handleReply = (body: string) => {\n    if(!auth.user || !auth.access_token) return;\n\n    const data = {\n      user: auth.user,\n      blog_id: comment.blog_id,\n      blog_user_id: comment.blog_user_id,\n      content: body,\n      replyCM: [],\n      reply_user: comment.user,\n      comment_root: comment.comment_root || comment._id,\n      createdAt: new Date().toISOString()\n    }\n\n\n    setShowReply([data, ...showReply])\n    dispatch(replyComment(data, auth.access_token))\n    setOnReply(false)\n  }\n\n\n  const handleUpdate = (body: string) => {\n    if(!auth.user || !auth.access_token || !edit) return;\n\n    if(body === edit.content) \n      return setEdit(undefined)\n    \n    const newComment = {...edit, content: body}\n    dispatch(updateComment(newComment, auth.access_token))\n    setEdit(undefined)\n  }\n\n  const handleDelete = (comment: IComment) => {\n    if(!auth.user || !auth.access_token) return;\n    dispatch(deleteComment(comment, auth.access_token))\n  }\n\n\n  const Nav = (comment: IComment) => {\n    return(\n      <div>\n        <i className=\"fas fa-trash-alt mx-2\"\n        onClick={() => handleDelete(comment)} />\n\n        <i className=\"fas fa-edit me-2\"\n        onClick={() => setEdit(comment)} />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"w-100\">\n      {\n        edit\n        ? <Input \n          callback={handleUpdate} \n          edit={edit}\n          setEdit={setEdit}\n        />\n\n        : <div className=\"comment_box\">\n            <div className=\"p-2\" dangerouslySetInnerHTML={{\n              __html: comment.content\n            }} />\n\n            <div className=\"d-flex justify-content-between p-2\">\n              <small style={{cursor: 'pointer'}}\n              onClick={() => setOnReply(!onReply)}>\n                {onReply ? '- Cancel -' :'- Reply -'}\n              </small>\n\n              <small className=\"d-flex\">\n                <div className=\"comment_nav\">\n                  {\n                    comment.blog_user_id === auth.user?._id\n                    ? comment.user._id === auth.user._id\n                      ? Nav(comment)\n                      : <i className=\"fas fa-trash-alt mx-2\"\n                      onClick={() => handleDelete(comment)} />\n                    : comment.user._id === auth.user?._id && Nav(comment)\n                  }\n                </div>\n\n                <div>\n                  { new Date(comment.createdAt).toLocaleString() }\n                </div>\n              </small>\n            </div>\n\n          </div>\n      }\n\n      {\n        onReply && <Input callback={handleReply} />\n      }\n      \n      { children }\n    </div>\n  )\n}\n\nexport default CommentList","import React, { useState, useEffect } from 'react'\n\nimport { IComment } from '../../utils/TypeScript'\n\nimport AvatarComment from './AvatarComment'\nimport AvatarReply from './AvatarReply'\nimport CommentList from './CommentList'\n\n\ninterface IProps {\n  comment: IComment\n}\n\nconst Comments: React.FC<IProps> = ({ comment }) => {\n  const [showReply, setShowReply] = useState<IComment[]>([])\n  const [next, setNext] = useState(2)\n \n  useEffect(() => {\n    if(!comment.replyCM) return;\n    setShowReply(comment.replyCM)\n  },[comment.replyCM])\n\n  return (\n    <div className=\"my-3 d-flex\" style={{\n      opacity: comment._id ? 1 : 0.5,\n      pointerEvents: comment._id ? 'initial' : 'none'\n    }}>\n      <AvatarComment user={comment.user} /> \n\n      <CommentList \n      comment={comment} \n      showReply={showReply}\n      setShowReply={setShowReply}\n      >\n        {\n          showReply.slice(0, next).map((comment, index) => (\n            <div key={index} style={{\n              opacity: comment._id ? 1 : 0.5,\n              pointerEvents: comment._id ? 'initial' : 'none'\n            }}>\n              <AvatarReply\n                user={comment.user}\n                reply_user={comment.reply_user}\n              />\n\n              <CommentList \n                comment={comment} \n                showReply={showReply}\n                setShowReply={setShowReply}\n              />\n            </div>\n          ))\n        }\n\n        <div style={{ cursor: 'pointer' }}>\n          {\n            showReply.length -next > 0\n            ? <small style={{ color: 'crimson' }}\n            onClick={() => setNext(next + 5)}>\n              See more comments...\n            </small>\n            : showReply.length > 2 && \n            <small style={{ color: 'teal' }}\n            onClick={() => setNext(2)}>\n              Hide comments...\n            </small>\n          }\n        </div>\n\n      </CommentList>\n    </div>\n  )\n}\n\nexport default Comments","import React, { useState, useEffect, useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link, useHistory } from 'react-router-dom'\n\nimport { IBlog, RootStore, IUser, IComment } from '../../utils/TypeScript'\n\nimport Input from '../comments/Input'\nimport Comments from '../comments/Comments'\nimport Loading from '../global/Loading'\nimport Pagination from '../global/Pagination'\n\nimport { \n  createComment, \n  getComments \n} from '../../redux/actions/commentActions'\n\n\ninterface IProps {\n  blog: IBlog\n}\n\nconst DisplayBlog: React.FC<IProps> = ({blog}) => {\n  const { auth, comments } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const [showComments, setShowComments] = useState<IComment[]>([])\n  const [loading, setLoading] = useState(false)\n\n  const history = useHistory()\n\n\n  const handleComment = (body: string) => {\n    if(!auth.user || !auth.access_token) return;\n\n    const data = {\n      content: body,\n      user: auth.user,\n      blog_id: (blog._id as string),\n      blog_user_id: (blog.user as IUser)._id,\n      replyCM: [],\n      createdAt: new Date().toISOString()\n    }\n\n    setShowComments([data, ...showComments])\n    dispatch(createComment(data, auth.access_token))\n  }\n\n\n  useEffect(() => {\n    setShowComments(comments.data)\n  },[comments.data])\n\n\n  const fetchComments = useCallback(async(id: string, num = 1) => {\n    setLoading(true)\n    await dispatch(getComments(id, num))\n    setLoading(false)\n  },[dispatch])\n\n\n  useEffect(() => {\n    if(!blog._id) return;\n    const num = history.location.search.slice(6) || 1;\n    fetchComments(blog._id, num as number)\n  },[blog._id, fetchComments, history])\n\n  const handlePagination = (num: number) => {\n    if(!blog._id) return;\n    fetchComments(blog._id, num)\n  }\n\n\n  return (\n    <div>\n      <h2 className=\"text-center my-3 text-capitalize fs-1\"\n      style={{ color: '#ff7a00' }}>\n        {blog.title}\n      </h2>\n\n      <div className=\"text-end fst-italic\" style={{color: 'teal'}}>\n        <small>\n          {\n            typeof(blog.user) !== 'string' &&\n            `By: ${blog.user.name}`\n          }\n        </small>\n\n        <small className=\"ms-2\">\n          { new Date(blog.createdAt).toLocaleString() }\n        </small>\n      </div>\n\n      <div dangerouslySetInnerHTML={{\n        __html: blog.content\n      }} />\n\n      <hr className=\"my-1\" />\n      <h3 style={{color: '#ff7a00'}}>✩ Comments ✩</h3>\n\n      {\n        auth.user\n        ? <Input callback={handleComment} />\n        : <h5>\n          Please <Link to={`/login?blog/${blog._id}`}>login</Link> to comment.\n        </h5>\n      }\n      \n      {\n        loading\n        ? <Loading />\n        : showComments?.map((comment, index) => (\n          <Comments key={index} comment={comment} />\n        ))\n      }\n\n      {\n        comments.total > 1 &&\n        <Pagination \n        total={comments.total}\n        callback={handlePagination}\n        />\n      }\n    </div>\n  )\n}\n\nexport default DisplayBlog","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nimport { IParams, IBlog, RootStore } from '../../utils/TypeScript'\nimport { getAPI } from '../../utils/FetchData'\n\nimport Loading from '../../components/global/Loading'\nimport { showErrMsg } from '../../components/alert/Alert'\nimport DisplayBlog from '../../components/blog/DisplayBlog'\n\nconst DetailBlog = () => {\n  const id = useParams<IParams>().slug\n  const { socket } = useSelector((state: RootStore) => state)\n\n  const [blog, setBlog] = useState<IBlog>()\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState('')\n\n  useEffect(() => {\n    if(!id) return;\n\n    setLoading(true)\n\n    getAPI(`blog/${id}`)\n    .then(res => {\n      setBlog(res.data)\n      setLoading(false)\n    })\n    .catch(err => {\n      setError(err.response.data.msg)\n      setLoading(false)\n    })\n\n    return () => setBlog(undefined)\n  },[id])\n\n  // Join Room\n  useEffect(() => {\n    if(!id || !socket) return;\n    socket.emit('joinRoom', id)\n\n    return () => {\n      socket.emit('outRoom', id)\n    }\n  },[socket, id])\n  \n\n  if(loading) return <Loading />;\n  return (\n    <div className=\"my-4\">\n      { error && showErrMsg(error) }\n      \n      { blog && <DisplayBlog blog={blog} /> }\n\n    </div>\n  )\n}\n\nexport default DetailBlog","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { RootStore, InputChange, IUserProfile, FormSubmit } from '../../utils/TypeScript'\n\nimport NotFound from '../global/NotFound'\n\nimport { updateUser, resetPassword } from '../../redux/actions/userActions'\n\nconst UserInfo = () => {\n  const initState = {\n    name: '', account: '', avatar: '', password: '', cf_password: ''\n  }\n\n  const { auth } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const [user, setUser] = useState<IUserProfile>(initState)\n  const [typePass, setTypePass] = useState(false)\n  const [typeCfPass, setTypeCfPass] = useState(false)\n\n\n  const handleChangeInput = (e: InputChange) => {\n    const { name, value } = e.target\n    setUser({ ...user, [name]:value })\n  }\n\n\n  const handleChangeFile = (e: InputChange) => {\n    const target = e.target as HTMLInputElement\n    const files = target.files\n\n    if(files){\n      const file = files[0]\n      setUser({...user, avatar: file})\n    }\n  } \n\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    if(avatar || name)\n      dispatch(updateUser((avatar as File), name, auth))\n\n    if(password && auth.access_token)\n      dispatch(resetPassword(password, cf_password, auth.access_token))\n  }\n\n\n  const { name, avatar, password, cf_password } = user\n\n  if(!auth.user) return <NotFound />\n  return (\n    <form className=\"profile_info\" onSubmit={handleSubmit}>\n      <div className=\"info_avatar\">\n        <img src={avatar ? URL.createObjectURL(avatar as any) : auth.user.avatar} \n        alt=\"avatar\" \n        />\n\n        <span>\n          <i className=\"fas fa-camera\" />\n          <p>Change</p>\n          <input type=\"file\" accept=\"image/*\"\n          name=\"file\" id=\"file_up\" \n          onChange={handleChangeFile} />\n        </span>\n      </div>\n\n      <div className=\"form-group my-3\">\n        <label htmlFor=\"name\">Name</label>\n        <input type=\"text\" className=\"form-control\" id=\"name\"\n        name=\"name\" defaultValue={auth.user.name}\n        onChange={handleChangeInput} />\n      </div>\n\n      <div className=\"form-group my-3\">\n        <label htmlFor=\"account\">Account</label>\n        <input type=\"text\" className=\"form-control\" id=\"account\"\n        name=\"account\" defaultValue={auth.user.account}\n        onChange={handleChangeInput} disabled={true} />\n      </div>\n\n      {\n        auth.user.type !== 'register' &&\n        <small className=\"text-danger\">\n          * Quick login account with {auth.user.type} can't use this function *\n        </small>\n      }\n\n      <div className=\"form-group my-3\">\n        <label htmlFor=\"password\">Password</label>\n\n        <div className=\"pass\">\n          <input type={typePass ? \"text\" : \"password\"} \n          className=\"form-control\" id=\"password\"\n          name=\"password\" value={password}\n          onChange={handleChangeInput}\n          disabled={auth.user.type !== 'register'} />\n\n          <small onClick={() => setTypePass(!typePass)}>\n            { typePass ? 'Hide' : 'Show'}\n          </small>\n        </div>\n      </div>\n\n      <div className=\"form-group my-3\">\n        <label htmlFor=\"cf_password\">Confirm Password</label>\n\n        <div className=\"pass\">\n          <input type={typeCfPass ? \"text\" : \"password\"} \n          className=\"form-control\" id=\"cf_password\"\n          name=\"cf_password\" value={cf_password}\n          onChange={handleChangeInput} \n          disabled={auth.user.type !== 'register'} />\n\n          <small onClick={() => setTypeCfPass(!typeCfPass)}>\n            { typeCfPass ? 'Hide' : 'Show'}\n          </small>\n        </div>\n      </div>\n\n      <button className=\"btn btn-dark w-100\" type=\"submit\">\n        Update\n      </button>\n    </form>\n  )\n}\n\nexport default UserInfo","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { getOtherInfo } from '../../redux/actions/userActions'\nimport { RootStore, IUser } from '../../utils/TypeScript'\n\nimport Loading from '../global/Loading'\n\n\ninterface IProps {\n  id: string\n}\n\nconst OtherInfo: React.FC<IProps> = ({id}) => {\n  const [other, setOther] = useState<IUser>()\n\n  const { otherInfo } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    if(!id) return;\n\n    if(otherInfo.every(user => user._id !== id)){\n      dispatch(getOtherInfo(id))\n    }else{\n      const newUser = otherInfo.find(user => user._id === id)\n      if(newUser) setOther(newUser)\n    }\n  },[id, otherInfo, dispatch])\n\n\n  if(!other) return <Loading />;\n  return (\n    <div className=\"profile_info text-center rounded\">\n      <div className=\"info_avatar\">\n        <img src={other.avatar} alt=\"avatar\" />\n      </div>\n\n      <h5 className=\"text-uppercase text-danger\">\n        {other.role}\n      </h5>\n\n      <div>\n        Name: <span className=\"text-info\">\n          {other.name}\n        </span>\n      </div>\n\n      <div>Email / Phone number</div>\n      <span className=\"text-info\">\n        {other.account}\n      </span>\n\n      <div>\n        Join Date: <span style={{color: '#ffc107'}}>\n          { new Date(other.createdAt).toLocaleString() }\n        </span>\n      </div>\n    </div>\n  )\n}\n\nexport default OtherInfo","import React, { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useParams, useHistory } from 'react-router-dom'\n\nimport { IParams, RootStore, IBlog } from '../../utils/TypeScript'\n\nimport { getBlogsByUserId } from '../../redux/actions/blogActions'\n\nimport CardHoriz from '../cards/CardHoriz'\nimport Loading from '../global/Loading'\nimport Pagination from '../global/Pagination'\n\nconst UserBlogs = () => {\n  const { blogsUser } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n  const user_id = useParams<IParams>().slug\n\n  const [blogs, setBlogs] = useState<IBlog[]>()\n  const [total, setTotal] = useState(0)\n\n  const history = useHistory()\n  const { search } = history.location\n\n  useEffect(() => {\n    if(!user_id) return;\n\n    if(blogsUser.every(item => item.id !== user_id)){\n      dispatch(getBlogsByUserId(user_id, search))\n    }else{\n      const data = blogsUser.find(item => item.id === user_id)\n      if(!data) return;\n\n      setBlogs(data.blogs)\n      setTotal(data.total)\n      if(data.search) history.push(data.search)\n    }\n  },[user_id, blogsUser, dispatch, search, history])\n\n  const handlePagination = (num: number) => {\n    const search = `?page=${num}`\n    dispatch(getBlogsByUserId(user_id, search))\n  }\n\n\n  if(!blogs) return <Loading />;\n\n  if(blogs.length === 0 && total < 1) return(\n    <h3 className=\"text-center\">No Blogs</h3>\n  )\n\n  return (\n    <div>\n      <div>\n        {\n          blogs.map(blog => (\n            <CardHoriz key={blog._id} blog={blog} />\n          ))\n        }\n      </div>\n\n      <div>\n        <Pagination \n        total={total}\n        callback={handlePagination}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default UserBlogs","import React from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nimport { IParams, RootStore } from '../../utils/TypeScript'\n\nimport UserInfo from '../../components/profile/UserInfo'\nimport OtherInfo from '../../components/profile/OtherInfo'\nimport UserBlogs from '../../components/profile/UserBlogs'\n\nconst Profile = () => {\n  const { slug }: IParams = useParams()\n  const { auth } = useSelector((state: RootStore) => state)\n\n  return (\n    <div className=\"row my-3\">\n      <div className=\"col-md-5 mb-3\">\n        {\n          auth.user?._id === slug\n          ? <UserInfo />\n          : <OtherInfo id={slug} />\n        }\n      </div>\n\n      <div className=\"col-md-7\">\n        <UserBlogs />\n      </div>\n    </div>\n  )\n}\n\nexport default Profile","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { InputChange, FormSubmit } from '../../utils/TypeScript'\nimport { login } from '../../redux/actions/authActions'\n\n\nconst LoginPass = () => {\n  const initialState = { account: '', password: '' }\n  const [userLogin, setUserLogin] = useState(initialState)\n  const { account, password } = userLogin\n\n  const [typePass, setTypePass] = useState(false)\n\n  const dispatch = useDispatch()\n\n  const handleChangeInput = (e: InputChange) => {\n    const {value, name} = e.target\n    setUserLogin({...userLogin, [name]:value})\n  }\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    dispatch(login(userLogin))\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"account\" className=\"form-label\">\n          Email\n        </label>\n\n        <input type=\"text\" className=\"form-control\" id=\"account\"\n        name=\"account\" value={account} onChange={handleChangeInput} />\n      </div>\n\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"password\" className=\"form-label\">Password</label>\n\n        <div className=\"pass\">\n          <input type={typePass ? \"text\" : \"password\"} \n          className=\"form-control\" \n          id=\"password\"\n          name=\"password\" value={password} \n          onChange={handleChangeInput} \n          />\n\n          <small onClick={() => setTypePass(!typePass)}>\n            {typePass ? 'Hide' : 'Show'}\n          </small>\n        </div>\n      </div>\n\n      <button type=\"submit\" className=\"btn btn-dark w-100 mt-1\"\n      disabled={(account && password) ? false : true}>\n        Login\n      </button>\n    </form>\n  )\n}\n\nexport default LoginPass","import React, { useState, useEffect } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nimport LoginPass from '../components/auth/LoginPass'\n\nimport { RootStore } from '../utils/TypeScript'\n\nconst Login = () => {\n  const history = useHistory()\n\n  const { auth } = useSelector((state: RootStore) => state)\n\n  useEffect(() => {\n    if(auth.access_token) {\n      let url = history.location.search.replace('?', '/')\n      return history.push(url)\n    }\n  },[auth.access_token, history])\n\n  return (\n    <div className=\"auth_page\">\n      <div className=\"auth_box\">\n        <h3 className=\"text-uppercase text-center mb-4\">Login</h3>\n\n\n        { <LoginPass /> }\n\n        <small className=\"row my-2 text-primary\" style={{cursor: 'pointer'}}>\n          <span className=\"col-6\">\n            <Link to='/forgot_password'>\n              Forgot password?\n            </Link>\n          </span>\n\n        </small>\n\n        <p>\n          {`You don't have an account? `}\n          <Link to={`/register${history.location.search}`} style={{color: 'crimson'}}>\n            Register Now\n          </Link>\n        </p>\n\n      </div>\n    </div>\n  )\n}\n\nexport default Login","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { InputChange, FormSubmit } from '../../utils/TypeScript'\nimport { register } from '../../redux/actions/authActions'\n\n\nconst RegisterForm = () => {\n\n  const initialState = { \n    name: '', account: '', password: '', cf_password: '' \n  }\n  const [userRegister, setUserRegister] = useState(initialState)\n  const { name, account, password, cf_password } = userRegister\n\n  const [typePass, setTypePass] = useState(false)\n  const [typeCfPass, setTypeCfPass] = useState(false)\n\n  const dispatch = useDispatch()\n\n  const handleChangeInput = (e: InputChange) => {\n    const {value, name} = e.target\n    setUserRegister({...userRegister, [name]:value})\n  }\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    dispatch(register(userRegister))\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"name\" className=\"form-label\">Name</label>\n\n        <input type=\"text\" className=\"form-control\" id=\"name\"\n        name=\"name\" value={name} onChange={handleChangeInput}\n        placeholder=\"Your name is up to 20 chars.\" />\n      </div>\n\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"account\" className=\"form-label\">\n          Email \n        </label>\n\n        <input type=\"text\" className=\"form-control\" id=\"account\"\n        name=\"account\" value={account} onChange={handleChangeInput}\n        placeholder=\"Example@gmail.com/+84374481936\" />\n      </div>\n\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"password\" className=\"form-label\">Password</label>\n\n        <div className=\"pass\">\n          <input type={typePass ? \"text\" : \"password\"} \n          className=\"form-control\" \n          id=\"password\"\n          name=\"password\" value={password} \n          onChange={handleChangeInput} \n          placeholder=\"Password must be at least 6 chars.\"\n          />\n\n          <small onClick={() => setTypePass(!typePass)}>\n            {typePass ? 'Hide' : 'Show'}\n          </small>\n        </div>\n      </div>\n\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"password\" className=\"form-label\">\n          Confirm Password\n        </label>\n\n        <div className=\"pass\">\n          <input type={typeCfPass ? \"text\" : \"password\"} \n          className=\"form-control\" \n          id=\"cf_password\"\n          name=\"cf_password\" value={cf_password} \n          onChange={handleChangeInput} \n          placeholder=\"Your confirm password.\"\n          />\n\n          <small onClick={() => setTypeCfPass(!typeCfPass)}>\n            {typeCfPass ? 'Hide' : 'Show'}\n          </small>\n        </div>\n      </div>\n\n      <button type=\"submit\" className=\"btn btn-dark w-100 my-1\">\n        Register\n      </button>\n    </form>\n  )\n}\n\nexport default RegisterForm","import React from 'react'\nimport { Link, useHistory } from 'react-router-dom'\n\nimport RegisterForm from '../components/auth/RegisterForm'\n\nconst Register = () => {\n  const history = useHistory()\n\n  return (\n    <div className=\"auth_page\">\n      <div className=\"auth_box\">\n        <h3 className=\"text-uppercase text-center mb-4\">Register</h3>\n\n        <RegisterForm />\n        \n        <p className=\"mt-2\">\n          {`Already have an account? `}\n          <Link to={`/login${history.location.search}`} style={{color: 'crimson'}}>\n            Login Now\n          </Link>\n        </p>\n\n      </div>\n    </div>\n  )\n}\n\nexport default Register","import { IComment } from '../../utils/TypeScript'\n\nexport const CREATE_COMMENT = \"CREATE_COMMENT\"\nexport const GET_COMMENTS = \"GET_COMMENTS\"\nexport const REPLY_COMMENT = \"REPLY_COMMENT\"\nexport const UPDATE_COMMENT = \"UPDATE_COMMENT\"\nexport const UPDATE_REPLY = \"UPDATE_REPLY\"\nexport const DELETE_COMMENT = \"DELETE_COMMENT\"\nexport const DELETE_REPLY = \"DELETE_REPLY\"\n\nexport interface ICommentState {\n  data: IComment[],\n  total: number\n}\n\nexport interface ICreateCommentType {\n  type: typeof CREATE_COMMENT,\n  payload: IComment\n}\n\nexport interface IGetCommentsType {\n  type: typeof GET_COMMENTS,\n  payload: ICommentState\n}\n\nexport interface IReplyCommentType {\n  type: typeof REPLY_COMMENT,\n  payload: IComment\n}\n\nexport interface IUpdateType {\n  type: typeof UPDATE_COMMENT | typeof UPDATE_REPLY,\n  payload: IComment\n}\n\nexport interface IDeleteType {\n  type: typeof DELETE_COMMENT | typeof DELETE_REPLY,\n  payload: IComment\n}\n\n\n\nexport type ICommentType = \n| ICreateCommentType\n| IGetCommentsType\n| IReplyCommentType\n| IUpdateType\n| IDeleteType","var map = {\n\t\"./\": 77,\n\t\"./active/[slug]\": 84,\n\t\"./active/[slug].tsx\": 84,\n\t\"./blog/[slug]\": 111,\n\t\"./blog/[slug].tsx\": 111,\n\t\"./blogs/[slug]\": 106,\n\t\"./blogs/[slug].tsx\": 106,\n\t\"./category\": 107,\n\t\"./category.tsx\": 107,\n\t\"./create_blog\": 69,\n\t\"./create_blog.tsx\": 69,\n\t\"./forgot_password\": 108,\n\t\"./forgot_password.tsx\": 108,\n\t\"./index\": 77,\n\t\"./index.tsx\": 77,\n\t\"./login\": 113,\n\t\"./login.tsx\": 113,\n\t\"./profile/[slug]\": 112,\n\t\"./profile/[slug].tsx\": 112,\n\t\"./register\": 114,\n\t\"./register.tsx\": 114,\n\t\"./reset_password/[slug]\": 109,\n\t\"./reset_password/[slug].tsx\": 109,\n\t\"./update_blog/[slug]\": 110,\n\t\"./update_blog/[slug].tsx\": 110\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 131;","import { Dispatch } from 'redux'\nimport { IBlog } from '../../utils/TypeScript'\nimport { imageUpload } from '../../utils/ImageUpload'\nimport { postAPI, getAPI, putAPI, deleteAPI } from '../../utils/FetchData'\n\nimport { ALERT, IAlertType } from '../types/alertType'\n\nimport {\n  GET_HOME_BLOGS,\n  IGetHomeBlogsType,\n  GET_BLOGS_CATEGORY_ID,\n  IGetBlogsCategoryType,\n  GET_BLOGS_USER_ID,\n  IGetBlogsUserType,\n  CREATE_BLOGS_USER_ID,\n  ICreateBlogsUserType,\n  DELETE_BLOGS_USER_ID,\n  IDeleteBlogsUserType\n} from '../types/blogType'\n\nimport { checkTokenExp } from '../../utils/checkTokenExp'\n\nexport const createBlog = (blog: IBlog, token: string) => \nasync (dispatch: Dispatch<IAlertType | ICreateBlogsUserType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n\n  let url;\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n    \n    if(typeof(blog.thumbnail) !== 'string'){\n      const photo = await imageUpload(blog.thumbnail)\n      url = photo.url\n    }else{\n      url = blog.thumbnail\n    }\n    \n    const newBlog = {...blog, thumbnail: url}\n    \n    const res = await postAPI('blog', newBlog, access_token)\n\n    dispatch({\n      type: CREATE_BLOGS_USER_ID,\n      payload: res.data\n    })\n\n    dispatch({ type: ALERT, payload: { loading: false } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg} })\n  }\n}\n\n\nexport const getHomeBlogs = () => \nasync (dispatch: Dispatch<IAlertType | IGetHomeBlogsType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await getAPI('home/blogs')\n\n    dispatch({\n      type: GET_HOME_BLOGS,\n      payload: res.data\n    })\n    \n    dispatch({ type: ALERT, payload: { loading: false } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg} })\n  }\n}\n\n\nexport const getBlogsByCategoryId = (id: string, search: string) => \nasync (dispatch: Dispatch<IAlertType | IGetBlogsCategoryType>) => {\n  try {\n    let limit = 8;\n    let value = search ? search : `?page=${1}`;\n\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await getAPI(`blogs/category/${id}${value}&limit=${limit}`)\n\n    dispatch({\n      type: GET_BLOGS_CATEGORY_ID,\n      payload: {...res.data, id, search }\n    })\n    \n    dispatch({ type: ALERT, payload: { loading: false } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg} })\n  }\n}\n\n\nexport const getBlogsByUserId = (id: string, search: string) => \nasync (dispatch: Dispatch<IAlertType | IGetBlogsUserType>) => {\n  try {\n    let limit = 3;\n    let value = search ? search : `?page=${1}`;\n\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await getAPI(`blogs/user/${id}${value}&limit=${limit}`)\n\n    dispatch({\n      type: GET_BLOGS_USER_ID,\n      payload: {...res.data, id, search }\n    })\n    \n    dispatch({ type: ALERT, payload: { loading: false } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg} })\n  }\n}\n\n\nexport const updateBlog = (blog: IBlog, token: string) => \nasync (dispatch: Dispatch<IAlertType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  let url;\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n    \n    if(typeof(blog.thumbnail) !== 'string'){\n      const photo = await imageUpload(blog.thumbnail)\n      url = photo.url\n    }else{\n      url = blog.thumbnail\n    }\n    \n    const newBlog = {...blog, thumbnail: url}\n\n    const res = await putAPI(`blog/${newBlog._id}`, newBlog, access_token)\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg} })\n  }\n}\n\n\nexport const deleteBlog = (blog: IBlog, token: string) => \nasync (dispatch: Dispatch<IAlertType | IDeleteBlogsUserType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  try {\n    dispatch({\n      type: DELETE_BLOGS_USER_ID,\n      payload: blog\n    })\n\n    await deleteAPI(`blog/${blog._id}`, access_token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg} })\n  }\n}","\n\nimport React from 'react'\nimport { useParams } from 'react-router-dom'\nimport { IParams } from './utils/TypeScript'\nimport NotFound from './components/global/NotFound'\n\n\nconst generatePage = (name: string) => {\n  const component = () => require(`./pages/${name}`).default\n\n  try {\n    return React.createElement(component())\n  } catch (err) {\n    return <NotFound />;\n  }\n}\n\nconst PageRender = () => {\n  const { page, slug }: IParams = useParams()\n\n  let name = '';\n\n  if(page){\n    name = slug ? `${page}/[slug]` : `${page}`\n  }\n\n  return generatePage(name)\n}\n\nexport default PageRender","import React, { useState, useEffect } from 'react'\nimport { useLocation } from 'react-router-dom'\n\nimport { getAPI } from '../../utils/FetchData'\nimport { IBlog } from '../../utils/TypeScript'\n\nimport CardHoriz from '../cards/CardHoriz'\n\nconst Search = () => {\n  const [search, setSearch] = useState('')\n  const [blogs, setBlogs] = useState<IBlog[]>([])\n\n  const { pathname } = useLocation()\n\n  useEffect(() => {\n    const delayDebounce = setTimeout(async () => {\n      if(search.length < 2) return setBlogs([]);\n\n      try {\n        const res = await getAPI(`search/blogs?title=${search}`)\n        setBlogs(res.data)\n      } catch (err) {\n        console.log(err)\n      }\n    }, 400)\n\n    return () => clearTimeout(delayDebounce)\n  },[search])\n\n\n  useEffect(() => {\n    setSearch('')\n    setBlogs([])\n  },[pathname])\n\n  return (\n    <div className=\"search w-100 position-relative me-4\">\n      <input type=\"text\" className=\"form-control me-2 w-100\"\n      value={search} placeholder=\"Enter your search...\"\n      onChange={e => setSearch(e.target.value)}  />\n\n      {\n        search.length >= 2 &&\n        <div className=\"position-absolute pt-2 px-1 w-100 rounded\"\n        style={{\n          background: '#eee', zIndex: 10,\n          maxHeight: 'calc(100vh - 100px)',\n          overflow: 'auto'\n        }}>\n          {\n            blogs.length\n            ? blogs.map(blog => (\n              <CardHoriz key={blog._id} blog={blog} />\n            ))\n            : <h3 className=\"text-center\">No Blogs</h3>\n          }\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default Search","import React from 'react'\nimport { Link, useLocation } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { RootStore } from '../../utils/TypeScript'\nimport { logout } from '../../redux/actions/authActions'\n\nconst Menu = () => {\n  const { auth } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const { pathname } = useLocation()\n\n  const bfLoginLinks = [\n    { label: 'Login', path: '/login' },\n    { label: 'Register', path: '/register' }\n  ]\n\n  const afLoginLinks = [\n    { label: 'Home', path: '/' },\n    { label: 'CreateBlog', path: '/create_blog' }\n  ]\n\n  const navLinks = auth.access_token ? afLoginLinks : bfLoginLinks\n  \n  const isActive = (pn: string) => {\n    if(pn === pathname) return 'active';\n  }\n\n  const handleLogout = () => {\n    if(!auth.access_token) return;\n    dispatch(logout(auth.access_token))\n  }\n\n\n  return (\n    <ul className=\"navbar-nav ms-auto\">\n      {\n        navLinks.map((link, index) => (\n          <li key={index} className={`nav-item ${isActive(link.path)}`}>\n            <Link className=\"nav-link\" to={link.path}>{link.label}</Link>\n          </li>\n        ))\n      }\n\n      {\n        auth.user?.role === 'admin' &&\n        <li className={`nav-item ${isActive(\"/category\")}`}>\n          <Link to=\"/category\" className=\"nav-link\">Category</Link>\n        </li>\n      }\n      \n      {\n        auth.user &&\n        <li className=\"nav-item dropdown\">\n          <span className=\"nav-link dropdown-toggle\" id=\"navbarDropdown\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n            <img src={auth.user.avatar} alt=\"avatar\" className=\"avatar\" />\n          </span>\n\n          <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n            <li>\n              <Link className=\"dropdown-item\" \n              to={`/profile/${auth.user._id}`}\n              >\n                Profile\n              </Link>\n            </li>\n\n            <li><hr className=\"dropdown-divider\" /></li>\n\n            <li>\n              <Link className=\"dropdown-item\" to=\"/\"\n              onClick={handleLogout}>\n                Logout\n              </Link>\n            </li>\n\n          </ul>\n        </li>\n      }\n      \n    </ul>\n  )\n}\n\nexport default Menu\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Search from './Search'\nimport Menu from './Menu'\n\nconst Header = () => {\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light p-3\"\n    style={{position: 'sticky', top: 0, left: 0, zIndex: 9}}\n    >\n        <Link className=\"navbar-brand\" to=\"/\">SpeakUP</Link>\n\n        <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n          <Search />\n          <Menu />\n        </div>\n    </nav>\n  )\n}\n\nexport default Header","import React from 'react'\n\nconst Footer = () => {\n  return (\n    <div className=\"text-center bg-light py-4\">\n      <h6>SPEAKUP</h6>\n      <a href=\"https://www.youtube.com/c/DevATHTML\" \n      target=\"_blank\" rel=\"noreferrer\"\n      className=\"mb-2 d-block\">\n        https://www.youtube.com/c/DevATHTML\n      </a>\n      <p> Copyright &copy; 2021</p>\n    </div>\n  )\n}\n\nexport default Footer","import React, { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { RootStore, IComment } from './utils/TypeScript'\n\nimport {\n  CREATE_COMMENT,\n  REPLY_COMMENT,\n  UPDATE_COMMENT,\n  UPDATE_REPLY,\n  DELETE_COMMENT,\n  DELETE_REPLY\n} from './redux/types/commentType'\n\nconst SocketClient = () => {\n  const { socket } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  // Create Comment\n  useEffect(() => {\n    if(!socket) return;\n\n    socket.on('createComment', (data: IComment) => {\n      dispatch({ type: CREATE_COMMENT, payload: data })\n    })\n\n    return () => { socket.off('createComment') }\n\n  },[socket, dispatch])\n\n  // Reply Comment\n  useEffect(() => {\n    if(!socket) return;\n\n    socket.on('replyComment', (data: IComment) => {\n      dispatch({ type: REPLY_COMMENT, payload: data })\n    })\n\n    return () => { socket.off('replyComment') }\n\n  },[socket, dispatch])\n\n  // Update Comment\n  useEffect(() => {\n    if(!socket) return;\n\n    socket.on('updateComment', (data: IComment) => {\n      dispatch({ \n        type: data.comment_root ? UPDATE_REPLY : UPDATE_COMMENT, \n        payload: data \n      })\n    })\n\n    return () => { socket.off('updateComment') }\n  },[socket, dispatch])\n\n\n  // Delete Comment\n  useEffect(() => {\n    if(!socket) return;\n\n    socket.on('deleteComment', (data: IComment) => {\n      dispatch({ \n        type: data.comment_root ? DELETE_REPLY : DELETE_COMMENT, \n        payload: data \n      })\n    })\n\n    return () => { socket.off('deleteComment') }\n  },[socket, dispatch])\n\n\n  return (\n    <div>\n      \n    </div>\n  )\n}\n\nexport default SocketClient","import React, { useEffect } from 'react'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\n\nimport PageRender from './PageRender'\nimport Header from './components/global/Header'\nimport Footer from './components/global/Footer'\n\nimport { Alert } from './components/alert/Alert'\n\nimport { refreshToken } from './redux/actions/authActions'\nimport { getCategories } from './redux/actions/categoryActions'\nimport { getHomeBlogs } from './redux/actions/blogActions'\n\n import io from 'socket.io-client'\n\nimport SocketClient from './SocketClient' \n\nimport { API_URL } from './utils/config'\n\n\nconst App = () => {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(getCategories())\n    dispatch(refreshToken())\n    dispatch(getHomeBlogs())\n  },[dispatch])\n\n  useEffect(() => {\n    const socket = io(API_URL)\n    dispatch({ type: 'SOCKET', payload: socket })\n    return () => { socket.close() }\n  },[])\n\n  return (\n    <div className=\"container\">\n      <SocketClient />\n      <Router>\n        <Alert />\n        <Header />\n\n        <Switch>\n          <Route exact path=\"/\" component={PageRender} />\n          <Route exact path=\"/:page\" component={PageRender} />\n          <Route exact path=\"/:page/:slug\" component={PageRender} />\n        </Switch>\n\n        <Footer/>\n      </Router>\n    </div>\n  )\n}\n\nexport default App","import { AUTH, IAuth, IAuthType } from '../types/authType'\n\n\nconst authReducer = (state: IAuth = {}, action: IAuthType): IAuth => {\n  switch (action.type){\n    case AUTH:\n      return action.payload\n    default:\n      return state\n  }\n}\n\nexport default authReducer;","import { ALERT, IAlertType } from '../types/alertType'\nimport { IAlert } from '../../utils/TypeScript'\n\n\nconst alertReducer = (state: IAlert = {}, action: IAlertType): IAlert => {\n  switch (action.type){\n    case ALERT:\n      return action.payload\n    default:\n      return state\n  }\n}\n\nexport default alertReducer;","import * as types from '../types/categoryType'\nimport { ICategory } from '../../utils/TypeScript'\n\nconst categoryReducer = (\n  state: ICategory[] = [], action: types.ICategoryType\n): ICategory[] => {\n  switch (action.type) {\n    case types.CREATE_CATEGORY:\n      return [action.payload, ...state]\n\n    case types.GET_CATEGORIES:\n      return action.payload\n\n    case types.UPDATE_CATEGORY:\n      return state.map(item => (\n        item._id === action.payload._id\n        ? { ...item, name: action.payload.name}\n        : item\n      ))\n\n    case types.DELETE_CATEGORY:\n      return state.filter(item => item._id !== action.payload)\n      \n    default:\n      return state;\n  }\n}\n\nexport default categoryReducer;","import {\n    GET_HOME_BLOGS,\n    IGetHomeBlogsType,\n    IHomeBlogs\n  } from '../types/blogType'\n  \n  \n  const homeBlogsReducer = (\n    state: IHomeBlogs[] = [],\n    action: IGetHomeBlogsType\n  ): IHomeBlogs[] => {\n    switch (action.type){\n      case GET_HOME_BLOGS:\n        return action.payload\n  \n      default:\n        return state\n    }\n  }\n  \n  \n  export default homeBlogsReducer","import {\n    GET_BLOGS_CATEGORY_ID,\n    IBlogsCategory,\n    IGetBlogsCategoryType\n  } from '../types/blogType'\n  \n  \n  const blogsCategoryReducer = (\n    state: IBlogsCategory[] = [],\n    action: IGetBlogsCategoryType\n  ): IBlogsCategory[] => {\n    switch(action.type){\n      case GET_BLOGS_CATEGORY_ID:\n        if(state.every(item => item.id !== action.payload.id)){\n          return [...state, action.payload]\n  \n        }else{\n          return state.map(blog => (\n            blog.id === action.payload.id\n            ? action.payload\n            : blog\n          ))\n        }\n  \n      default:\n        return state;\n    }\n  }\n  \n  \n  export default blogsCategoryReducer;","import { IUser } from '../../utils/TypeScript'\nimport {\n  GET_OTHER_INFO,\n  IGetOtherInfoType\n} from '../types/profileType'\n\n\nconst otherInfoReducer = (\n  state: IUser[] = [],\n  action: IGetOtherInfoType\n): IUser[] => {\n  switch(action.type){\n    case GET_OTHER_INFO:\n      return [...state, action.payload]\n\n    default:\n      return state\n  }\n}\n\nexport default otherInfoReducer","import {\n    IBlogsUser,\n    GET_BLOGS_USER_ID,\n    IGetBlogsUserType\n  } from '../types/blogType'\n  \n  \n  const blogsUserReducer = (\n    state: IBlogsUser[] = [],\n    action: IGetBlogsUserType\n  ): IBlogsUser[] => {\n    switch(action.type){\n      case GET_BLOGS_USER_ID:\n        if(state.every(item => item.id !== action.payload.id)){\n          return [...state, action.payload]\n  \n        }else{\n          return state.map(blog => (\n            blog.id === action.payload.id\n            ? action.payload\n            : blog\n          ))\n        }\n  \n      default:\n        return state;\n    }\n  }\n  \n  \n  export default blogsUserReducer;","import {\n    ICommentState,\n    CREATE_COMMENT,\n    GET_COMMENTS,\n    REPLY_COMMENT,\n    UPDATE_COMMENT,\n    UPDATE_REPLY,\n    DELETE_COMMENT,\n    DELETE_REPLY,\n    ICommentType\n  } from '../types/commentType'\n  \n  const initialState = {\n    data: [],\n    total: 1\n  }\n  \n  \n  const commentReducer = (\n    state: ICommentState = initialState,\n    action: ICommentType\n  ): ICommentState => {\n    switch(action.type){\n      case CREATE_COMMENT:\n        return{\n          ...state,\n          data: [action.payload, ...state.data]\n        }\n      \n      case GET_COMMENTS:\n        return action.payload\n  \n      case REPLY_COMMENT:\n        return {\n          ...state,\n          data: state.data.map(item => (\n            item._id === action.payload.comment_root\n            ? {\n              ...item,\n              replyCM: [\n                action.payload,\n                ...item.replyCM\n              ]\n            }\n            : item\n          ))\n        }\n  \n      case UPDATE_COMMENT:\n        return{\n          ...state,\n          data: state.data.map(item => (\n            item._id === action.payload._id\n            ? action.payload\n            : item\n          ))\n        }\n  \n      case UPDATE_REPLY:\n        return{\n          ...state,\n          data: state.data.map(item => (\n            item._id === action.payload.comment_root\n            ? {\n              ...item,\n              replyCM: item.replyCM?.map(rp => (\n                rp._id === action.payload._id\n                ? action.payload\n                : rp\n              ))\n            }\n            : item\n          ))\n        }\n        \n      case DELETE_COMMENT:\n        return{\n          ...state,\n          data: state.data.filter(item => \n            item._id !== action.payload._id\n          )\n        }\n  \n      case DELETE_REPLY:\n        return{\n          ...state,\n          data: state.data.map(item => (\n            item._id === action.payload.comment_root\n            ? {\n              ...item,\n              replyCM: item.replyCM?.filter(rp => (\n                rp._id !== action.payload._id\n              ))\n            }\n            : item\n          ))\n        }\n        \n      default:\n        return state\n    }\n  }\n  \n  \n  export default commentReducer","import { SOCKET, ISocketType } from '../types/socketType'\n\nconst socketReducer = (state: any = null, action: ISocketType): any => {\n  switch(action.type) {\n    case SOCKET:\n      return action.payload\n    default: \n      return state\n  }\n}\n\nexport default socketReducer","import { Socket } from 'socket.io-client'\n\nexport const SOCKET = \"SOCKET\"\n\nexport interface ISocketType {\n  type: typeof SOCKET,\n  payload: Socket\n}","import { combineReducers } from 'redux'\nimport auth from './authReducer'\nimport alert from './alertReducer'\nimport subjects from './categoryReducer'\nimport homeBlogs from './homeBlogsReducer'\nimport blogsCategory from './blogsCategoryReducer'\nimport otherInfo from './otherInfoReducer'\nimport blogsUser from './blogsUserReducer'\nimport comments from './commentReducer'\nimport socket from './socketReducer'\n\nexport default combineReducers({\n  auth,\n  alert,\n  subjects,\n  homeBlogs,\n  blogsCategory,\n  otherInfo,\n  blogsUser,\n  comments,\n  socket\n})","import { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\n\nimport rootReducer from './reducers/index'\n\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk))\n)\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);","import React from 'react'\n\nconst Loading = () => {\n  return (\n    <div className=\"d-flex justify-content-center my-4\">\n      <div className=\"spinner-border\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n      </div>\n    </div>\n  )\n}\n\nexport default Loading","import { IBlog } from '../../utils/TypeScript'\n\nexport const GET_HOME_BLOGS = \"GET_HOME_BLOGS\"\nexport const GET_BLOGS_CATEGORY_ID = \"GET_BLOGS_CATEGORY_ID\"\nexport const GET_BLOGS_USER_ID = \"GET_BLOGS_USER_ID\"\nexport const CREATE_BLOGS_USER_ID = \"CREATE_BLOGS_USER_ID\"\nexport const DELETE_BLOGS_USER_ID = \"DELETE_BLOGS_USER_ID\"\n\n\nexport interface IHomeBlogs {\n  _id: string\n  name: string\n  count: number\n  blogs: IBlog[]\n}\n\nexport interface IGetHomeBlogsType {\n  type: typeof GET_HOME_BLOGS,\n  payload: IHomeBlogs[]\n}\n\nexport interface IBlogsCategory {\n  id: string\n  blogs: IBlog[]\n  total: number\n  search: string\n}\n\nexport interface IGetBlogsCategoryType {\n  type: typeof GET_BLOGS_CATEGORY_ID,\n  payload: IBlogsCategory\n}\n\nexport interface IBlogsUser {\n  id: string\n  blogs: IBlog[]\n  total: number\n  search: string\n}\n\nexport interface IGetBlogsUserType {\n  type: typeof GET_BLOGS_USER_ID,\n  payload: IBlogsUser\n}\n\nexport interface ICreateBlogsUserType {\n  type: typeof CREATE_BLOGS_USER_ID,\n  payload: IBlog\n}\n\nexport interface IDeleteBlogsUserType {\n  type: typeof DELETE_BLOGS_USER_ID,\n  payload: IBlog\n}\n\nexport type IBlogUserType = \n| IGetBlogsUserType\n| ICreateBlogsUserType\n| IDeleteBlogsUserType","import { IAlert } from '../../utils/TypeScript'\n\nexport const ALERT = 'ALERT'\n\nexport interface IAlertType {\n  type: typeof ALERT\n  payload: IAlert\n}","import { Dispatch } from 'redux'\nimport { AUTH, IAuthType } from '../types/authType'\nimport { ALERT, IAlertType } from '../types/alertType'\n\nimport { IUserLogin, IUserRegister } from '../../utils/TypeScript'\nimport { postAPI, getAPI } from '../../utils/FetchData'\nimport { validRegister } from '../../utils/Valid'\n\nimport { checkTokenExp } from '../../utils/checkTokenExp'\n\n\n\nexport const login = (userLogin: IUserLogin) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await postAPI('login', userLogin)\n\n    dispatch({\n      type: AUTH,\n      payload: {\n        token: res.data.access_token,\n        user: res.data.user\n      }\n    })\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n    localStorage.setItem('logged', 'sneakersloop')\n\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const register = (userRegister: IUserRegister) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  const check = validRegister(userRegister)\n  \n  if(check.errLength > 0)\n    return dispatch({ type: ALERT, payload: { errors: check.errMsg } })\n\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n    \n    const res = await postAPI('register', userRegister)\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const refreshToken = () => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  const logged = localStorage.getItem('logged')\n  if(logged !== 'sneakersloop') return;\n\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n    \n    const res = await getAPI('refresh_token')\n    \n    dispatch({ type: AUTH,payload: res.data })\n\n    dispatch({ type: ALERT, payload: { } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\nexport const forgotPassword = (account: string) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await postAPI('forgot_password', { account })\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\nexport const logout = (token: string) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  \n  try {\n    localStorage.removeItem('logged')\n    dispatch({ type: AUTH, payload: { } })\n    await getAPI('logout', access_token)\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}","import { IUser } from '../../utils/TypeScript'\n\nexport const AUTH = 'AUTH'\n\nexport interface IAuth {\n  msg?: string\n  access_token?: string\n  user?: IUser\n}\n\nexport interface IAuthType{\n  type: typeof AUTH\n  payload: IAuth\n}","import { ICategory } from '../../utils/TypeScript'\n\nexport const CREATE_CATEGORY = 'CREATE_CATEGORY'\nexport const GET_CATEGORIES = 'GET_CATEGORIES'\nexport const UPDATE_CATEGORY = 'UPDATE_CATEGORY'\nexport const DELETE_CATEGORY = 'DELETE_CATEGORY'\n\n\nexport interface ICreateCatery{\n  type: typeof CREATE_CATEGORY\n  payload: ICategory\n}\n\nexport interface IGetCategories{\n  type: typeof GET_CATEGORIES\n  payload: ICategory[]\n}\n\nexport interface IUpdateCategory{\n  type: typeof UPDATE_CATEGORY\n  payload: ICategory\n}\n\nexport interface IDeleteCategory{\n  type: typeof DELETE_CATEGORY\n  payload: string\n}\n\nexport type ICategoryType = \n| ICreateCatery \n| IGetCategories\n| IUpdateCategory\n| IDeleteCategory","export const checkImage = (file: File) => {\n    const types = ['image/png', 'image/jpeg']\n    let err = ''\n    if(!file) return err = \"File does not exist.\"\n  \n    if(file.size > 1024 * 1024) // 1mb\n      err = \"The largest image size is 1mb\"\n  \n    if(!types.includes(file.type))\n      err = \"The image type is png / jpeg\"\n  \n    return err;\n  }\n  \n  export const imageUpload = async (file: File) => {\n    const formData = new FormData()\n    formData.append(\"file\", file)\n    formData.append(\"upload_preset\", \"inrkfy2v\")\n    formData.append(\"cloud_name\", \"dlhjdhhto\")\n  \n    const res = await fetch(\"https://api.cloudinary.com/v1_1/dlhjdhhto/upload \", {\n      method: \"POST\",\n      body: formData\n    })\n  \n    const data = await res.json()\n    return { public_id: data.public_id, url: data.secure_url };\n  }","import React from \"react\";\n\nconst NotFound = () => {\n  return (\n    <div\n      className=\"position-relative\"\n      style={{ minHeight: \"calc(100vh - 70px)\" }}\n    >\n      <h2\n        className=\"position-absolute text-secondary\"\n        style={{ top: \"50%\", left: \"50%\", transform: \"translate(-50%, -50%)\" }}\n      >\n        404 | NotFound\n      </h2>\n    </div>\n  );\n};\n\nexport default NotFound;"," // export const API_URL = \"http://localhost:4000\"\n\n export const API_URL = \"https://speakup-server.onrender.com\"","import { IUserRegister, IBlog } from './TypeScript'\n\nexport const validRegister = (userRegister: IUserRegister) => {\n  const { name, account, password, cf_password } = userRegister;\n  const errors: string[] = [];\n\n  if(!name){\n    errors.push(\"Please add your name.\")\n  }else if(name.length > 20){\n    errors.push(\"Your name is up to 20 chars long.\")\n  }\n\n  if(!account){\n    errors.push(\"Please add your email or phone number.\")\n  }else if(!validPhone(account) && !validateEmail(account)){\n    errors.push(\"Email or phone number format is incorrect.\")\n  }\n\n  const msg = checkPassword(password, cf_password)\n  if(msg) errors.push(msg)\n\n  return {\n    errMsg: errors,\n    errLength: errors.length\n  }\n}\n\n\nexport const checkPassword = (password: string, cf_password: string) => {\n  if(password.length < 6){\n    return (\"Password must be at least 6 chars.\")\n  }else if(password !== cf_password){\n    return (\"Confirm password did not match.\")\n  }\n}\n\nexport function validPhone(phone: string) {\n  const re = /^[+]/g\n  return re.test(phone)\n}\n\nexport function validateEmail(email: string) {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n\n\n// Valid Blog\nexport const validCreateBlog = ({\n  title, content, description, thumbnail, subject\n}: IBlog) => {\n  const err: string[] = []\n\n  if(title.trim().length < 10){\n    err.push(\"Title has at least 10 characters.\")\n  }else if(title.trim().length > 50){\n    err.push(\"Title is up to 50 characters long.\")\n  }\n\n  if(content.trim().length < 2000){\n    err.push(\"Content has at least 2000 characters.\")\n  }\n\n  if(description.trim().length < 50){\n    err.push(\"Description has at least 50 characters.\")\n  }else if(description.trim().length > 200){\n    err.push(\"Description is up to 200 characters long.\")\n  }\n\n  if(!thumbnail){\n    err.push(\"Thumbnail cannot be left blank.\")\n  }\n\n  if(!subject){\n    err.push(\"Category cannot be left blank.\")\n  }\n\n  return {\n    errMsg: err,\n    errLength: err.length\n  }\n\n}\n\n// Shallow equality\nexport const shallowEqual = (object1: any, object2: any) => {\n  const keys1 = Object.keys(object1)\n  const keys2 = Object.keys(object2)\n\n  if(keys1.length !== keys2.length) {\n    return false;\n  }\n\n  for(let key of keys1) {\n    if(object1[key] !== object2[key]){\n      return false;\n    }\n  }\n  \n  return true;\n\n}","import { Dispatch } from 'redux'\nimport { IAuth, IAuthType, AUTH } from '../types/authType'\nimport { IAlertType, ALERT } from '../types/alertType'\n\nimport { checkImage, imageUpload } from '../../utils/ImageUpload'\nimport { patchAPI, getAPI } from '../../utils/FetchData'\nimport { checkPassword } from '../../utils/Valid'\n\nimport { \n  GET_OTHER_INFO,\n  IGetOtherInfoType\n} from '../types/profileType'\n\n\nexport const updateUser = (\n  avatar: File, name: string, auth: IAuth\n) => async (dispatch: Dispatch<IAlertType | IAuthType>) => {\n  if(!auth.access_token || !auth.user) return;\n\n  let url = '';\n  try {\n    dispatch({ type: ALERT, payload: {loading: true}})\n    if(avatar){\n      const check = checkImage(avatar)\n      if(check) \n        return dispatch({ type: ALERT,payload: { errors: check } })\n\n      const photo = await imageUpload(avatar)\n      url = photo.url\n    }\n\n    dispatch({ \n      type: AUTH,\n      payload: {\n        access_token: auth.access_token,\n        user: {\n          ...auth.user,\n          avatar: url ? url : auth.user.avatar, \n          name: name ? name : auth.user.name\n        }\n      } \n    })\n\n    const res = await patchAPI('user', { \n      avatar: url ? url : auth.user.avatar, \n      name: name ? name : auth.user.name\n    }, auth.access_token)\n\n    dispatch({ type: ALERT, payload: {success: res.data.msg}})\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg}})\n  }\n}\n\n\nexport const resetPassword = (\n  password: string, cf_password: string, token: string\n) => async (dispatch: Dispatch<IAlertType | IAuthType>) => {\n\n  const msg = checkPassword(password, cf_password)\n  if(msg) return dispatch({ type: ALERT, payload: {errors: msg}})\n\n  try {\n    dispatch({ type: ALERT, payload: {loading: true}})\n\n    const res = await patchAPI('reset_password', { password }, token)\n\n    dispatch({ type: ALERT, payload: {success: res.data.msg}})\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg}})\n  }\n}\n\n\nexport const getOtherInfo = (id: string) => \nasync (dispatch: Dispatch<IAlertType | IGetOtherInfoType>) => {\n  try {\n    dispatch({ type: ALERT, payload: {loading: true}})\n\n    const res = await getAPI(`user/${id}`)\n\n    dispatch({\n      type: GET_OTHER_INFO,\n      payload: res.data\n    })\n\n    dispatch({ type: ALERT, payload: { }})\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg}})\n  }\n}","import React from 'react'\n\nconst Loading = () => {\n  return (\n    <div className=\"position-fixed w-100 h-100 text-center loading\"\n    style={{background: '#0007', color: \"white\", top: 0, left: 0, zIndex: 99}}>\n      <svg width=\"205\" height=\"250\" viewBox=\"0 0 40 50\">\n        <polygon stroke=\"#fff\" strokeWidth=\"1\" fill=\"none\"\n        points=\"20,1 40,40 1,40\" />\n        <text fill=\"#fff\" x=\"5\" y=\"47\">Loading</text>\n      </svg>\n    </div>\n  )\n}\n\nexport default Loading\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { ALERT } from '../../redux/types/alertType'\n\ninterface IProps {\n  title: string\n  body: string | string[]\n  bgColor: string\n}\n\nconst Toast = ({title, body, bgColor}: IProps) => {\n\n  const dispatch = useDispatch()\n\n  const handleClose = () => {\n    dispatch({ type: ALERT, payload: {} })\n  }\n\n  return (\n    <div className={`toast show position-fixed text-light ${bgColor}`}\n    style={{top: '5px', right: '5px', zIndex: 50, minWidth: '200px'}}>\n\n      <div className={`toast-header text-light ${bgColor}`}>\n        <strong className=\"me-auto\">{title}</strong>\n        <button type=\"button\" className=\"btn-close\" \n        data-bs-dismiss=\"toast\" aria-label=\"Close\"\n        onClick={handleClose} />\n      </div>\n\n      <div className=\"toast-body\">\n        {\n          typeof(body) === 'string'\n          ? body\n          : <ul>\n            {\n              body.map((text, index) => (\n                <li key={index}>{text}</li>\n              ))\n            }\n          </ul>\n        }\n      </div>\n\n    </div>\n  )\n}\n\nexport default Toast","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { RootStore } from '../../utils/TypeScript'\n\nimport Loading from './Loading'\nimport Toast from './Toast'\n\nexport const Alert = () => {\n    const { alert } = useSelector((state: RootStore) => state)\n  \n    return (\n      <div>\n        { alert.loading && <Loading /> }\n  \n        { \n          alert.errors && \n          <Toast \n          title=\"Errors\"\n          body={alert.errors}\n          bgColor=\"bg-danger\"\n          />\n        }\n  \n        { \n          alert.success && \n          <Toast \n          title=\"Success\"\n          body={alert.success}\n          bgColor=\"bg-success\"\n          />\n        }\n      </div>\n    )\n  }\n  \n  export const showErrMsg = (msg: string) => {\n    return <div className=\"errMsg\">{msg}</div>\n  }\n  \n  export const showSuccessMsg = (msg: string) => {\n    return <div className=\"successMsg\">{msg}</div>\n  }","import React, { useState, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\n\ninterface IProps {\n  total: number\n  callback: (num: number) => void\n}\n\nconst Pagination: React.FC<IProps> = ({total, callback}) => {\n  const [page, setPage] = useState(1)\n\n  const newArr = [...Array(total)].map((_,i) => i + 1)\n  const history = useHistory()\n\n  const isActive = (index: number) => {\n    if(index === page) return \"active\";\n    return \"\"\n  }\n\n  const handlePagination = (num: number) => {\n    history.push(`?page=${num}`)\n    callback(num)\n  }\n\n  useEffect(() => {\n    const num = history.location.search.slice(6) || 1\n    setPage(Number(num))\n  },[history.location.search])\n\n\n  return (\n    <nav aria-label=\"Page navigation example\" style={{cursor: 'pointer'}}>\n      <ul className=\"pagination\">\n        {\n          page > 1 && \n          <li className=\"page-item\" \n          onClick={() => handlePagination(page - 1)}>\n            <span className=\"page-link\" aria-label=\"Previous\">\n              <span aria-hidden=\"true\">&laquo;</span>\n            </span>\n          </li>\n        }\n        \n\n        {\n          newArr.map(num => (\n            <li key={num} className={`page-item ${isActive(num)}`}\n            onClick={() => handlePagination(num)}>\n              <span className=\"page-link\">{num}</span>\n            </li>\n          ))\n        }\n        \n        {\n          page < total &&\n          <li className=\"page-item\"\n          onClick={() => handlePagination(page + 1)}>\n            <span className=\"page-link\" aria-label=\"Next\">\n              <span aria-hidden=\"true\">&raquo;</span>\n            </span>\n          </li>\n        }\n      </ul>\n    </nav>\n  )\n}\n\nexport default Pagination","import React from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { IBlog, IParams, RootStore } from '../../utils/TypeScript'\n\nimport { deleteBlog } from '../../redux/actions/blogActions'\n\n\ninterface IProps {\n  blog: IBlog\n}\n\nconst CardHoriz: React.FC<IProps> = ({blog}) => {\n  const { slug } = useParams<IParams>()\n  const { auth } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const handleDelete = () => {\n    if(!auth.user || !auth.access_token) return;\n\n    if(slug !== auth.user._id) return dispatch({\n      type: 'ALERT',\n      payload: { errors: 'Invalid Authentication.' }\n    })\n\n    if(window.confirm(\"Do you want to delete this post?\")){\n      dispatch(deleteBlog(blog, auth.access_token))\n    }\n  }\n\n  return (\n    <div className=\"card mb-3\" style={{minWidth: \"260px\"}}>\n      <div className=\"row g-0 p-2\">\n        <div className=\"col-md-4\" style={{\n          minHeight: '150px', maxHeight: '170px', overflow: 'hidden'\n        }}>\n          {\n            blog.thumbnail && \n            <>\n              {\n                typeof(blog.thumbnail) === 'string'\n                ? <Link to={`/blog/${blog._id}`}>\n                    <img src={blog.thumbnail} \n                    className=\"w-100 h-100\" \n                    alt=\"thumbnail\" style={{objectFit: 'cover'}} />\n                </Link>\n                :<img src={URL.createObjectURL(blog.thumbnail)} \n                className=\"w-100 h-100\" \n                alt=\"thumbnail\" style={{objectFit: 'cover'}} />\n              }\n            </>\n          }\n          \n        </div>\n        \n        <div className=\"col-md-8\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">\n              <Link to={`/blog/${blog._id}`}\n              className=\"text-capitalize text-decoration-none\">\n                {blog.title}\n              </Link>\n            </h5>\n            <p className=\"card-text\">{blog.description}</p>\n\n            {\n              blog.title &&\n              <div className=\"card-text d-flex justify-content-between\n                align-items-center\"\n              >\n                {\n                  (slug === auth.user?._id) &&\n                  <div style={{cursor: 'pointer'}}>\n                    <Link to={`/update_blog/${blog._id}`}>\n                      <i className=\"fas fa-edit\" title=\"edit\" />\n                    </Link>\n\n                    <i className=\"fas fa-trash text-danger mx-3\" \n                    title=\"edit\" onClick={handleDelete} />\n                  </div>\n                }\n                <small className=\"text-muted\">\n                  {new Date(blog.createdAt).toLocaleString()}\n                </small>\n              </div>\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default CardHoriz","import jwt_decode from \"jwt-decode\";\nimport axios from 'axios'\nimport { AUTH } from '../redux/types/authType'\n\n\ninterface IToken {\n  exp: number\n  iat: number\n  id: string\n}\n\nexport const checkTokenExp = async (token: string, dispatch: any) => {\n  const decoded: IToken = jwt_decode(token)\n\n  if(decoded.exp >= Date.now() / 1000) return;\n\n  const res = await axios.get('/api/refresh_token')\n  dispatch({ type: AUTH, payload: res.data })\n  return res.data.access_token;\n}","import { Dispatch } from 'redux'\nimport { ALERT, IAlertType } from '../types/alertType'\n\nimport { postAPI, getAPI, patchAPI, deleteAPI } from '../../utils/FetchData'\nimport { ICategory } from '../../utils/TypeScript'\n\nimport { \n  CREATE_CATEGORY, \n  ICategoryType, \n  GET_CATEGORIES,\n  UPDATE_CATEGORY,\n  DELETE_CATEGORY\n} from '../types/categoryType'\n\n\nexport const createCategory = (name: string, token: string) => \nasync(dispatch: Dispatch<IAlertType | ICategoryType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true }})\n\n    const res = await postAPI('category', { name }, token)\n\n    dispatch({\n      type: CREATE_CATEGORY,\n      payload: res.data.newCategory\n    })\n\n    dispatch({ type: ALERT, payload: { loading: false }})\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg }})\n  }\n}\n\nexport const getCategories = () => \nasync(dispatch: Dispatch<IAlertType | ICategoryType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true }})\n\n    const res = await getAPI('category')\n    \n    dispatch({\n      type: GET_CATEGORIES,\n      payload: res.data.categories\n    })\n\n    dispatch({ type: ALERT, payload: { loading: false }})\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg }})\n  }\n}\n\nexport const updateCategory = (data: ICategory, token: string) => \nasync(dispatch: Dispatch<IAlertType | ICategoryType>) => {\n  try {\n\n    dispatch({ type: UPDATE_CATEGORY, payload: data })\n    await patchAPI(`category/${data._id}`, { name: data.name }, token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg }})\n  }\n}\n\nexport const deleteCategory = (id: string, token: string) => \nasync(dispatch: Dispatch<IAlertType | ICategoryType>) => {\n  try {\n    \n    dispatch({ type: DELETE_CATEGORY, payload: id })\n    await deleteAPI(`category/${id}`, token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg }})\n  }\n}","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { RootStore, IBlog, InputChange } from '../../utils/TypeScript'\n\n\ninterface IProps {\n  blog: IBlog,\n  setBlog: (blog: IBlog) => void\n}\n\nconst CreateForm: React.FC<IProps> = ({blog, setBlog}) => {\n  const { subjects } = useSelector((state: RootStore) => state)\n\n  const handleChangeInput = (e: InputChange) => {\n    const { value, name } = e.target\n    setBlog({...blog, [name]:value})\n  }\n\n  const handleChangeThumbnail = (e: InputChange) => {\n    const target = e.target as HTMLInputElement\n    const files = target.files\n    if(files){\n      const file = files[0]\n      setBlog({...blog, thumbnail: file})\n    }\n  }\n\n  return (\n    <form>\n      <div className=\"form-group position-relative\">\n        <input type=\"text\" className=\"form-control\"\n        value={blog.title} name=\"title\" \n        onChange={handleChangeInput} />\n\n        <small className=\"text-muted position-absolute\"\n        style={{ bottom: 0, right: '3px', opacity: '0.3'}}>\n          {blog.title.length}/50\n        </small>\n      </div>\n\n      <div className=\"form-group my-3\">\n        <input type=\"file\" className=\"form-control\"\n        accept=\"image/*\" onChange={handleChangeThumbnail} />\n      </div>\n\n      <div className=\"form-group position-relative\">\n        <textarea className=\"form-control\" rows={4}\n        value={blog.description} style={{resize: 'none'}}\n        name=\"description\" onChange={handleChangeInput} />\n\n        <small className=\"text-muted position-absolute\"\n        style={{ bottom: 0, right: '3px', opacity: '0.3'}}>\n          {blog.description.length}/200\n        </small>\n      </div>\n\n      <div className=\"form-group my-3\">\n        <select className=\"form-control text-capitalize\"\n        value={blog.subject} name=\"subject\"\n        onChange={handleChangeInput}>\n          <option value=\"\">Choose a category</option>\n          {\n            subjects.map(subject => (\n              <option key={subject._id} value={subject._id}>\n                {subject.name}\n              </option>\n            ))\n          }\n        </select>\n      </div>\n    </form>\n  )\n}\n\nexport default CreateForm","\n\nimport React, { useEffect, useRef, useCallback } from 'react'\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\nimport { useDispatch } from 'react-redux'\n\nimport { checkImage, imageUpload } from '../../utils/ImageUpload'\nimport { ALERT } from '../../redux/types/alertType'\n\ninterface IProps {\n  setBody: (value: string) => void\n  body: string\n}\n\nconst Quill: React.FC<IProps> = ({setBody, body}) => {\n  const dispatch = useDispatch()\n  const quillRef = useRef<ReactQuill>(null)\n\n  const modules = { toolbar: { container }}\n\n  // Custom image\n  const handleChangeImage = useCallback(() => {\n    const input = document.createElement('input')\n    input.type = \"file\"\n    input.accept = \"image/*\"\n    input.click()\n\n    input.onchange = async () => {\n      const files = input.files\n      if(!files) return dispatch({\n        type: ALERT, payload: { errors: 'File does not exist.'}\n      });\n\n      const file = files[0]\n      const check = checkImage(file)\n      if(check) return dispatch({ type: ALERT, payload: { errors: check } });\n      \n      dispatch({ type: ALERT, payload: { loading: true } })\n      const photo = await imageUpload(file)\n\n      const quill = quillRef.current;\n      const range = quill?.getEditor().getSelection()?.index\n      if(range !== undefined){\n        quill?.getEditor().insertEmbed(range, 'image', `${photo.url}`)\n      }\n\n      dispatch({ type: ALERT, payload: { loading: false } })\n    }\n  },[dispatch])\n\n\n  useEffect(() => {\n    const quill = quillRef.current;\n    if(!quill) return;\n\n    let toolbar = quill.getEditor().getModule('toolbar')\n    toolbar.addHandler('image', handleChangeImage)\n  },[handleChangeImage])\n\n  return (\n    <div>\n      <ReactQuill theme=\"snow\"\n      modules={modules}\n      placeholder=\"Write somethings...\"\n      onChange={e => setBody(e)}\n      value={body}\n      ref={quillRef} />\n    </div>\n  )\n}\n\nlet container = [\n  [{ 'font': [] }],\n  [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n  [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown\n\n  ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\n  ['blockquote', 'code-block'],\n  [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme\n  [{ 'script': 'sub'}, { 'script': 'super' }],      // superscript/subscript\n\n  [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n  [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent\n  [{ 'direction': 'rtl' }],                         // text direction\n  [{ 'align': [] }],\n\n  ['clean', 'link', 'image','video']\n]\n\nexport default Quill","import React, { useState, useRef, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { RootStore, IBlog, IUser } from '../utils/TypeScript'\nimport { validCreateBlog, shallowEqual } from '../utils/Valid'\nimport { getAPI } from '../utils/FetchData'\n\nimport NotFound from '../components/global/NotFound'\nimport CreateForm from '../components/cards/CreateForm'\nimport CardHoriz from '../components/cards/CardHoriz'\n\nimport ReactQuill from '../components/editor/ReactQuill'\n\nimport { ALERT } from '../redux/types/alertType'\n\nimport { createBlog, updateBlog } from '../redux/actions/blogActions'\n\ninterface IProps {\n  id?: string\n}\nconst CreateBlog: React.FC<IProps> = ({id}) => {\n  const initState = {\n    user: '',\n    title: '',\n    content: '',\n    description: '',\n    thumbnail: '',\n    subject: '',\n    createdAt: new Date().toISOString()\n  }\n\n  const [blog, setBlog] = useState<IBlog>(initState)\n  const [body, setBody] = useState('')\n\n  const divRef = useRef<HTMLDivElement>(null)\n  const [text, setText] = useState('')\n\n  const { auth } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const [oldData, setOldData] = useState<IBlog>(initState)\n\n  useEffect(() => {\n    if(!id) return;\n\n    getAPI(`blog/${id}`)\n    .then(res => {\n      setBlog(res.data)\n      setBody(res.data.content)\n      setOldData(res.data)\n    })\n    .catch(err => console.log(err))\n\n    const initData = {\n      user: '',\n      title: '',\n      content: '',\n      description: '',\n      thumbnail: '',\n      subject: '',\n      createdAt: new Date().toISOString()\n    }\n\n    return () => {\n      setBlog(initData)\n      setBody('')\n      setOldData(initData)\n    }\n  },[id])\n\n  useEffect(() => {\n    const div = divRef.current;\n    if(!div) return;\n\n    const text = (div?.innerText as string)\n    setText(text)\n  },[body])\n\n  const handleSubmit = async() => {\n    if(!auth.access_token) return;\n\n    const check = validCreateBlog({...blog, content: text})\n    if(check.errLength !== 0){\n      return dispatch({ type: ALERT, payload: { errors: check.errMsg } })\n    }\n\n    let newData = {...blog, content: body}\n\n    if(id){\n      if((blog.user as IUser)._id !== auth.user?._id)\n        return dispatch({\n          type: ALERT,\n          payload: { errors: 'Invalid Authentication.' }\n        })\n\n      const result = shallowEqual(oldData, newData)\n      if(result) return dispatch({\n        type: ALERT,\n        payload: { errors: 'The data does not change.' }\n      })\n\n      dispatch(updateBlog(newData, auth.access_token))\n    }else{\n      dispatch(createBlog(newData, auth.access_token))\n    }\n  }\n\n\n  if(!auth.access_token) return <NotFound />;\n  return (\n    <div className=\"my-4 create_blog\">\n\n      <div className=\"row mt-4\">\n        <div className=\"col-md-6\">\n          <h5>Create</h5>\n          <CreateForm blog={blog} setBlog={setBlog} />\n        </div>\n\n        <div className=\"col-md-6\">\n          <h5>Preview</h5>\n          <CardHoriz  blog={blog} />\n        </div>\n      </div>  \n\n      <ReactQuill setBody={setBody} body={body} />\n\n      <div ref={divRef} dangerouslySetInnerHTML={{\n        __html: body\n      }} style={{display: 'none'}} />\n\n      <small>{text.length}</small>\n      \n      <button className=\"btn btn-dark mt-3 d-block mx-auto\"\n      onClick={handleSubmit}>\n        { id ? 'Update Post' : 'Create Post' }\n      </button>\n    </div>\n  )\n}\n\nexport default CreateBlog","import React from 'react'\nimport { Link} from 'react-router-dom'\n\nimport { IBlog } from '../../utils/TypeScript'\n\ninterface IProps {\n  blog: IBlog\n}\n\nconst CardVert: React.FC<IProps> = ({blog}) => {\n  return (\n    <div className=\"card\">\n      {\n        typeof(blog.thumbnail) === 'string' &&\n        <img src={blog.thumbnail} className=\"card-img-top\" alt=\"...\"\n        style={{height: '180px', objectFit: 'cover'}} />\n      }\n\n      <div className=\"card-body\">\n        <h5 className=\"card-title\">\n          <Link to={`/blog/${blog._id}`} style={{\n            textDecoration: 'none', textTransform: 'capitalize'\n          }}>\n            {blog.title.slice(0,50) + '...'}\n          </Link>\n        </h5>\n        <p className=\"card-text\">\n          { blog.description.slice(0,100) + '...' }\n        </p>\n\n        <p className=\"card-text d-flex justify-content-between\">\n          <small className=\"text-muted text-capitalize\">\n            {\n              typeof(blog.user) !== 'string' &&\n              <Link to={`/profile/${blog.user._id}`} style={{\n                textDecoration: 'none', textTransform: 'capitalize'\n              }}>\n                By: {blog.user.name}\n              </Link>\n            }\n          </small>\n\n          <small className=\"text-muted\">\n            { new Date(blog.createdAt).toLocaleString() }\n          </small>\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default CardVert","import { IUser } from '../../utils/TypeScript'\n\nexport const GET_OTHER_INFO = \"GET_OTHER_INFO\"\n\n\nexport interface IGetOtherInfoType {\n  type: typeof GET_OTHER_INFO,\n  payload: IUser\n}","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport { RootStore } from '../utils/TypeScript'\n\nimport CardVert from '../components/cards/CardVert'\nimport Loading from '../components/global/Loading'\n\nconst Home = () => {\n  const { homeBlogs } = useSelector((state: RootStore) => state)\n\n\n  if(homeBlogs.length === 0) return <Loading />;\n  return (\n    <div className=\"home_page\">\n      {\n        homeBlogs.map(homeBlog => (\n          <div key={homeBlog._id}>\n            {\n              homeBlog.count > 0 &&\n              <>\n                <h3>\n                  <Link to={ `/blogs/${(homeBlog.name).toLowerCase()}` }>\n                    { homeBlog.name } <small>({ homeBlog.count })</small>\n                  </Link>\n                </h3>\n                <hr className=\"mt-1\" />\n\n                <div className=\"home_blogs\">\n                  {\n                    homeBlog.blogs.map(blog => (\n                      <CardVert key={blog._id} blog={blog} />\n                    ))\n                  }\n                </div>\n              </>\n            }\n\n            {\n              homeBlog.count > 4 && \n              <Link className=\"text-end d-block mt-2 mb-3 \n              text-decoration-none\"\n              to={`/blogs/${homeBlog.name}`}>\n                Read more &gt;&gt;\n              </Link>\n            }\n          </div>\n        ))\n      }\n    </div>\n  )\n}\n\nexport default Home","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport { IParams } from '../../utils/TypeScript'\nimport { postAPI } from '../../utils/FetchData'\nimport { showErrMsg, showSuccessMsg } from '../../components/alert/Alert'\n\nconst Active = () => {\n  const { slug }: IParams = useParams()\n  const [err, setErr] = useState('')\n  const [success, setSuccess] = useState('')\n\n  useEffect(() => {\n    if(slug){\n      postAPI('active', { active_token: slug })\n      .then(res => setSuccess(res.data.msg))\n      .catch(err => setErr(err.response.data.msg))\n    }\n  },[slug])\n\n  return (\n    <div>\n      { err && showErrMsg(err) }\n      { success && showSuccessMsg(success) }\n    </div>\n  )\n}\n\nexport default Active","import axios from 'axios'\nimport { API_URL } from './config'\naxios.defaults.withCredentials = true\n\n\n\nexport const postAPI = async (url: string, post: object, token?:string) => {\n  const res = await axios.post(`${API_URL}/api/${url}`, post, {\n    headers: { Authorization: token! }\n  })\n\n  return res;\n}\n\n\nexport const getAPI = async (url: string, token?:string) => {\n  const res = await axios.get(`${API_URL}/api/${url}`, {\n    headers: { Authorization: token! }\n  })\n\n  return res;\n}\n\nexport const patchAPI = async (url: string, post: object, token?:string) => {\n  const res = await axios.patch(`${API_URL}/api/${url}`, post, {\n    headers: { Authorization: token! }\n  })\n\n  return res;\n}\n\n\nexport const putAPI = async (url: string, post: object, token?:string) => {\n  const res = await axios.put(`${API_URL}/api/${url}`, post, {\n    headers: { Authorization: token! }\n  })\n\n  return res;\n}\n\n\nexport const deleteAPI = async (url: string, token?:string) => {\n  const res = await axios.delete(`${API_URL}/api/${url}`, {\n    headers: { Authorization: token! }\n  })\n\n  return res;\n}"],"sourceRoot":""}